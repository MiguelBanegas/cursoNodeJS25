<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil de Usuario</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 font-sans">
  <div class="container mx-auto py-8">
    <h1 class="text-2xl font-bold mb-4">Perfil de Usuario</h1>

    <div id="profile-info" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
      <p><strong>Nombre:</strong> <span id="nombre"></span></p>
      <p><strong>Email:</strong> <span id="email"></span></p>
      <p><strong>Rol:</strong> <span id="rol"></span></p>
    </div>

    <button id="logout-button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
      Cerrar Sesión
    </button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Obtener el perfil del usuario del localStorage
      const userProfile = JSON.parse(localStorage.getItem('userProfile'));
        console.log(userProfile);
      // Si no hay perfil, redirigir al login
      if (!userProfile) {
        window.location.href = '/index.html';
      }

      // Mostrar la información del perfil
      document.getElementById('nombre').textContent = userProfile.nombre || 'N/A';
      document.getElementById('email').textContent = userProfile.email || 'N/A';
      document.getElementById('rol').textContent = userProfile.rol || 'N/A';

      // Cerrar sesión
      document.getElementById('logout-button').addEventListener('click', () => {
        localStorage.removeItem('token');
        localStorage.removeItem('userProfile');
        window.location.href = '/index.html';
      });
    });
  </script>
</body>

</html>